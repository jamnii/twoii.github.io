<svg id="SvgjsSvg1006" width="1109.078125" height="921.5" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1025" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1026" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1035" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1036" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1067" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1068" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1079" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1080" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1091" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1092" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1095" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1096" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1123" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1124" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1155" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1156" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1179" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1180" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1193" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1194" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1197" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1198" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1211" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1212" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1215" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1216" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1245" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1246" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1255" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1256" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1263" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1264" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1297" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1298" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1301" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1302" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1305" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1306" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1309" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1310" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1313" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1314" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1317" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1318" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1321" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1322" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1325" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1326" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><rect id="SvgjsRect1008" width="1109.078125" height="921.5" fill="#e5e5e5"></rect><g id="SvgjsG1009" transform="translate(647.579861111109,25)"><path id="SvgjsPath1010" d="M 0 34C 0 -11.333333333333334 125 -11.333333333333334 125 34C 125 79.33333333333333 0 79.33333333333333 0 34Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1011"><text id="SvgjsText1012" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="105px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="24.05" transform="rotate(0)"><tspan id="SvgjsTspan1013" dy="16" x="62.5"><tspan id="SvgjsTspan1014" style="text-decoration:;">Swoole Server</tspan></tspan></text></g></g><g id="SvgjsG1015" transform="translate(651.079861111109,145.90066982519195)"><path id="SvgjsPath1016" d="M 0 4Q 0 0 4 0L 114 0Q 118 0 118 4L 118 64Q 118 68 114 68L 4 68Q 0 68 0 64Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1017"><text id="SvgjsText1018" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="98px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.05" transform="rotate(0)"><tspan id="SvgjsTspan1019" dy="16" x="59"><tspan id="SvgjsTspan1020" style="text-decoration:;">参数设置(set)</tspan></tspan><tspan id="SvgjsTspan1021" dy="16" x="59"><tspan id="SvgjsTspan1022" style="text-decoration:;">事件回调(on)</tspan></tspan></text></g></g><g id="SvgjsG1023"><path id="SvgjsPath1024" d="M710.079861111109 93L710.079861111109 119.45033491259596L710.079861111109 119.45033491259596L710.079861111109 145.90066982519195" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1025)"></path></g><g id="SvgjsG1027" transform="translate(647.579861111109,262.5)"><path id="SvgjsPath1028" d="M 0 37.5C 0 -12.5 125 -12.5 125 37.5C 125 87.5 0 87.5 0 37.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1029"><text id="SvgjsText1030" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="105px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="27.55" transform="rotate(0)"><tspan id="SvgjsTspan1031" dy="16" x="62.5"><tspan id="SvgjsTspan1032" style="text-decoration:;">启动服务(start)</tspan></tspan></text></g></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M709.1463458037582 213.90066982519195L709.1463458037582 234.81589496773938L709.1463458037582 234.81589496773938L709.1463458037582 259.63178993547876" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path></g><g id="SvgjsG1037" transform="translate(294.57986111110904,397.5)"><path id="SvgjsPath1038" d="M 0 37.5C 0 -12.5 125 -12.5 125 37.5C 125 87.5 0 87.5 0 37.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1039"><text id="SvgjsText1040" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="105px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="19.55" transform="rotate(0)"><tspan id="SvgjsTspan1041" dy="16" x="62.5"><tspan id="SvgjsTspan1042" style="text-decoration:;">Manager进程</tspan></tspan><tspan id="SvgjsTspan1043" dy="16" x="62.5"><tspan id="SvgjsTspan1044" style="text-decoration:;">(onManagerStart)</tspan></tspan></text></g></g><g id="SvgjsG1045" transform="translate(640.829861111109,397.5)"><path id="SvgjsPath1046" d="M 0 37.5C 0 -12.5 138.5 -12.5 138.5 37.5C 138.5 87.5 0 87.5 0 37.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1047"><text id="SvgjsText1048" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="119px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.55" transform="rotate(0)"><tspan id="SvgjsTspan1049" dy="16" x="69.5"><tspan id="SvgjsTspan1050" style="text-decoration:;">worker进程</tspan></tspan><tspan id="SvgjsTspan1051" dy="16" x="69.5"><tspan id="SvgjsTspan1052" style="text-decoration:;">(PHP-FPM)</tspan></tspan><tspan id="SvgjsTspan1053" dy="16" x="69.5"><tspan id="SvgjsTspan1054" style="text-decoration:;">(onWorkerStart)</tspan></tspan></text></g></g><g id="SvgjsG1055" transform="translate(934.079861111109,393.5)"><path id="SvgjsPath1056" d="M 0 41.5C 0 -13.833333333333334 150 -13.833333333333334 150 41.5C 150 96.83333333333333 0 96.83333333333333 0 41.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1057"><text id="SvgjsText1058" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="130px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.55" transform="rotate(0)"><tspan id="SvgjsTspan1059" dy="16" x="75"><tspan id="SvgjsTspan1060" style="text-decoration:;">task进程启动</tspan></tspan><tspan id="SvgjsTspan1061" dy="16" x="75"><tspan id="SvgjsTspan1062" style="text-decoration:;">（分担PHP-FPM）</tspan></tspan><tspan id="SvgjsTspan1063" dy="16" x="75"><tspan id="SvgjsTspan1064" style="text-decoration:;">(onTaskStart)可选</tspan></tspan></text></g></g><g id="SvgjsG1065"><path id="SvgjsPath1066" d="M569.079861111109 521.5L680.545540644049 472.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1067)"></path></g><g id="SvgjsG1069" transform="translate(959.579861111109,531.5)"><path id="SvgjsPath1070" d="M 0 41.5L 49.5 0L 99 41.5L 49.5 83Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1071"><text id="SvgjsText1072" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="23.965" transform="rotate(0)"><tspan id="SvgjsTspan1073" dy="16" x="49.5"><tspan id="SvgjsTspan1074" style="text-decoration:;">任务完成</tspan></tspan><tspan id="SvgjsTspan1075" dy="16" x="49.5"><tspan id="SvgjsTspan1076" style="text-decoration:;">(finish)</tspan></tspan></text></g></g><g id="SvgjsG1077"><path id="SvgjsPath1078" d="M1009.079861111109 476.5L1009.079861111109 531.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1079)"></path></g><g id="SvgjsG1081" transform="translate(966.079861111109,269.5)"><path id="SvgjsPath1082" d="M 0 30.5C 0 -10.166666666666666 86 -10.166666666666666 86 30.5C 86 71.16666666666667 0 71.16666666666667 0 30.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1083"><text id="SvgjsText1084" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.55" transform="rotate(0)"><tspan id="SvgjsTspan1085" dy="16" x="43"><tspan id="SvgjsTspan1086" style="text-decoration:;">投递任务</tspan></tspan><tspan id="SvgjsTspan1087" dy="16" x="43"><tspan id="SvgjsTspan1088" style="text-decoration:;">(task)</tspan></tspan></text></g></g><g id="SvgjsG1089"><path id="SvgjsPath1090" d="M1009.079861111109 330.5L1009.079861111109 361L1009.079861111109 361L1009.079861111109 393.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1091)"></path></g><g id="SvgjsG1093"><path id="SvgjsPath1094" d="M710.079861111109 337.5L710.0798611111089 397.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1095)"></path></g><g id="SvgjsG1097" transform="translate(307.57986111110904,545.5)"><path id="SvgjsPath1098" d="M 0 0L 99 0L 99 45L 0 45Z" stroke="none" fill="none"></path><g id="SvgjsG1099"><text id="SvgjsText1100" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="99px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.55" transform="rotate(0)"><tspan id="SvgjsTspan1101" dy="16" x="49.5"><tspan id="SvgjsTspan1102" style="text-decoration:;">Unix Socket</tspan></tspan></text></g></g><g id="SvgjsG1103" transform="translate(802.079861111109,414.5630850494766)"><path id="SvgjsPath1104" d="M 0 0L 111 0L 111 35.563085049476626L 0 35.563085049476626Z" stroke="none" fill="none"></path><g id="SvgjsG1105"><text id="SvgjsText1106" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="111px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.831542524738313" transform="rotate(0)"><tspan id="SvgjsTspan1107" dy="16" x="55.5"><tspan id="SvgjsTspan1108" style="text-decoration:;">Unix Socekt +MQ</tspan></tspan></text></g></g><g id="SvgjsG1109" transform="translate(487.07986111110904,401)"><path id="SvgjsPath1110" d="M 0 34C 0 -11.333333333333334 99 -11.333333333333334 99 34C 99 79.33333333333333 0 79.33333333333333 0 34Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1111"><text id="SvgjsText1112" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.050000000000000044" transform="rotate(0)"><tspan id="SvgjsTspan1113" dy="16" x="49.5"><tspan id="SvgjsTspan1114" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1115" dy="16" x="49.5"><tspan id="SvgjsTspan1116" style="text-decoration:;">Master进程</tspan></tspan><tspan id="SvgjsTspan1117" dy="16" x="49.5"><tspan id="SvgjsTspan1118" style="text-decoration:;">onStart</tspan></tspan><tspan id="SvgjsTspan1119" dy="16" x="49.5"><tspan id="SvgjsTspan1120" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1121"><path id="SvgjsPath1122" d="M487.07986111110904 434.99999999999994L453.57986111110904 434.99999999999994L453.57986111110904 434.99999999999994L419.57986111110904 434.99999999999994" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1123)"></path></g><g id="SvgjsG1125" transform="translate(488.07986111110904,521.5)"><path id="SvgjsPath1126" d="M 0 4Q 0 0 4 0L 158 0Q 162 0 162 4L 162 89Q 162 93 158 93L 4 93Q 0 93 0 89Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1127"><text id="SvgjsText1128" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="142px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.55" transform="rotate(0)"><tspan id="SvgjsTspan1129" dy="16" x="81"><tspan id="SvgjsTspan1130" style="text-decoration:;">事件发生</tspan></tspan><tspan id="SvgjsTspan1131" dy="16" x="81"><tspan id="SvgjsTspan1132" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1133" dy="16" x="81"><tspan id="SvgjsTspan1134" style="text-decoration:;">onConnect:连接到来</tspan></tspan><tspan id="SvgjsTspan1135" dy="16" x="81"><tspan id="SvgjsTspan1136" style="text-decoration:;">onReceive:接受数据</tspan></tspan><tspan id="SvgjsTspan1137" dy="16" x="81"><tspan id="SvgjsTspan1138" style="text-decoration:;">onClose:关闭连接    </tspan></tspan></text></g></g><g id="SvgjsG1139" transform="translate(705.4515152174089,521.5)"><path id="SvgjsPath1140" d="M 0 4Q 0 0 4 0L 146 0Q 150 0 150 4L 150 89Q 150 93 146 93L 4 93Q 0 93 0 89Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1141"><text id="SvgjsText1142" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="130px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.55" transform="rotate(0)"><tspan id="SvgjsTspan1143" dy="16" x="75"><tspan id="SvgjsTspan1144" style="text-decoration:;">主动发生</tspan></tspan><tspan id="SvgjsTspan1145" dy="16" x="75"><tspan id="SvgjsTspan1146" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1147" dy="16" x="75"><tspan id="SvgjsTspan1148" style="text-decoration:;">发送数据($serv-&gt;send)</tspan></tspan><tspan id="SvgjsTspan1149" dy="16" x="75"><tspan id="SvgjsTspan1150" style="text-decoration:;">关闭连接($serv-&gt;close)</tspan></tspan><tspan id="SvgjsTspan1151" dy="16" x="75"><tspan id="SvgjsTspan1152" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1153"><path id="SvgjsPath1154" d="M710.079861111109 472.5L780.4515152174089 521.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1155)"></path></g><g id="SvgjsG1157" transform="translate(25.009636519360754,383.5510450570042)"><path id="SvgjsPath1158" d="M 20.64 68.31101552409493C -17.2 48.793582517210666 6.88 34.15550776204746 15.479999999999999 29.2761495103264C 12.040000000000001 4.879358251721067 55.04 0 72.24 9.758716503442134C 86 -4.879358251721067 129 0 129 14.6380747551632C 163.4 9.758716503442134 177.16 29.2761495103264 163.4 53.67294076893174C 175.44 73.190373775816 163.4 97.58716503442133 123.83999999999999 87.8284485309792C 115.24000000000001 100.51477998545397 80.83999999999999 100.51477998545397 72.24 87.8284485309792C 55.04 97.58716503442133 20.64 92.70780678270026 20.64 68.31101552409493Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1159"><text id="SvgjsText1160" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="152px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.843582517210667" transform="rotate(0)"><tspan id="SvgjsTspan1161" dy="16" x="86"><tspan id="SvgjsTspan1162" style="text-decoration:;">Swoole 进程</tspan></tspan><tspan id="SvgjsTspan1163" dy="16" x="86"><tspan id="SvgjsTspan1164" style="text-decoration:;">2: maset + manager</tspan></tspan><tspan id="SvgjsTspan1165" dy="16" x="86"><tspan id="SvgjsTspan1166" style="text-decoration:;">n: worker 数           </tspan></tspan><tspan id="SvgjsTspan1167" dy="16" x="86"><tspan id="SvgjsTspan1168" style="text-decoration:;">m: task 数                 </tspan></tspan></text></g></g><g id="SvgjsG1169" transform="translate(294.57986111110904,266)"><path id="SvgjsPath1170" d="M 15 47.599999999999994C -12.5 34 5 23.799999999999997 11.25 20.4C 8.75 3.4000000000000004 40 0 52.5 6.800000000000001C 62.5 -3.4000000000000004 93.75 0 93.75 10.2C 118.75 6.800000000000001 128.75 20.4 118.75 37.400000000000006C 127.5 51 118.75 68 90 61.2C 83.75 70.04 58.75 70.04 52.5 61.2C 40 68 15 64.6 15 47.599999999999994Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1171"><text id="SvgjsText1172" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="105px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.05" transform="rotate(0)"><tspan id="SvgjsTspan1173" dy="16" x="62.5"><tspan id="SvgjsTspan1174" style="text-decoration:;">负责创建/回收</tspan></tspan><tspan id="SvgjsTspan1175" dy="16" x="62.5"><tspan id="SvgjsTspan1176" style="text-decoration:;">worker/task 进程</tspan></tspan></text></g></g><g id="SvgjsG1177"><path id="SvgjsPath1178" d="M357.07986111110904 397.5L357.07986111110904 353" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1179)"></path></g><g id="SvgjsG1181" transform="translate(258.97821625427764,678.5)"><path id="SvgjsPath1182" d="M 0 46.5C 0 -15.5 196.2032897136628 -15.5 196.2032897136628 46.5C 196.2032897136628 108.5 0 108.5 0 46.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1183"><text id="SvgjsText1184" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="177px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1185" dy="16" x="98.5"><tspan id="SvgjsTspan1186" style="text-decoration:;">Master进程</tspan></tspan><tspan id="SvgjsTspan1187" dy="16" x="98.5"><tspan id="SvgjsTspan1188" style="text-decoration:;">创建Manager进程、Reactor线</tspan></tspan><tspan id="SvgjsTspan1189" dy="16" x="98.5"><tspan id="SvgjsTspan1190" style="text-decoration:;">程等工作进/线程</tspan></tspan></text></g></g><g id="SvgjsG1191"><path id="SvgjsPath1192" d="M357.07986111110904 472.5L357.07986111110904 521.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1193)"></path></g><g id="SvgjsG1195"><path id="SvgjsPath1196" d="M357.079861111109 678.5L357.07986111110904 590.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1197)"></path></g><g id="SvgjsG1199" transform="translate(483.07986111110904,678.5)"><path id="SvgjsPath1200" d="M 0 46.5C 0 -15.5 172 -15.5 172 46.5C 172 108.5 0 108.5 0 46.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1201"><text id="SvgjsText1202" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="152px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1203" dy="16" x="86"><tspan id="SvgjsTspan1204" style="text-decoration:;">Reactor线程（Nginx）</tspan></tspan><tspan id="SvgjsTspan1205" dy="16" x="86"><tspan id="SvgjsTspan1206" style="text-decoration:;">运行epoll实例</tspan></tspan><tspan id="SvgjsTspan1207" dy="16" x="86"><tspan id="SvgjsTspan1208" style="text-decoration:;">接收客户端连接,数据</tspan></tspan></text></g></g><g id="SvgjsG1209"><path id="SvgjsPath1210" d="M569.079861111109 678.5L569.079861111109 614.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1211)"></path></g><g id="SvgjsG1213"><path id="SvgjsPath1214" d="M455.18150596794044 725L483.07986111110904 725" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1215)"></path></g><g id="SvgjsG1217" transform="translate(651.079861111109,623.625)"><path id="SvgjsPath1218" d="M 0 0L 102 0L 118 16L 118 61L 0 61L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1219" d="M 102 0L 102 16L 118 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1220" d="M 0 0L 102 0L 118 16L 118 61L 0 61L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1221"><text id="SvgjsText1222" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="98px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.55" transform="rotate(0)"><tspan id="SvgjsTspan1223" dy="16" x="59"><tspan id="SvgjsTspan1224" style="text-decoration:;">receive,</tspan><tspan id="SvgjsTspan1225" style="text-decoration:;font-size: inherit;">sendTo,</tspan></tspan><tspan id="SvgjsTspan1226" dy="16" x="59"><tspan id="SvgjsTspan1227" style="text-decoration:;">close,</tspan><tspan id="SvgjsTspan1228" style="text-decoration:;font-size: inherit;">buffer,</tspan></tspan><tspan id="SvgjsTspan1229" dy="16" x="59"><tspan id="SvgjsTspan1230" style="text-decoration:;">dispatch</tspan></tspan></text></g></g><g id="SvgjsG1231" transform="translate(439.13777176558847,803.5)"><path id="SvgjsPath1232" d="M 0 46.5C 0 -15.5 259.88417869104126 -15.5 259.88417869104126 46.5C 259.88417869104126 108.5 0 108.5 0 46.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1233"><text id="SvgjsText1234" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="240px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1235" dy="16" x="130"><tspan id="SvgjsTspan1236" style="text-decoration:;">多个Reactor线程,</tspan></tspan><tspan id="SvgjsTspan1237" dy="16" x="130"><tspan id="SvgjsTspan1238" style="text-decoration:;">基于 epoll/kqueue 进行网络事件轮询。</tspan></tspan><tspan id="SvgjsTspan1239" dy="16" x="130"><tspan id="SvgjsTspan1240" style="text-decoration:;">收到数据后转发到 Worker 进程去处理</tspan></tspan></text></g></g><g id="SvgjsG1241"><path id="SvgjsPath1242" d="M569.079861111109 771.5L569.079861111109 803.5" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1243"><path id="SvgjsPath1244" d="M710.079861111109 684.625L655.079861111109 725" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1245)"></path></g><g id="SvgjsG1247" transform="translate(789.4515152174089,830.5)"><path id="SvgjsPath1248" d="M 0 4Q 0 0 4 0L 62 0Q 66 0 66 4L 66 41Q 66 45 62 45L 4 45Q 0 45 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1249"><text id="SvgjsText1250" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="46px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.55" transform="rotate(0)"><tspan id="SvgjsTspan1251" dy="16" x="33"><tspan id="SvgjsTspan1252" style="text-decoration:;">Client</tspan></tspan></text></g></g><g id="SvgjsG1253"><path id="SvgjsPath1254" d="M789.4515152174089 853L744.2367328370193 853L744.2367328370193 850L699.0219504566297 850" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1255)"></path><rect id="SvgjsRect1257" width="42" height="16" x="723.2367328370193" y="843.5" fill="#ffffff"></rect><text id="SvgjsText1258" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="42px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="841.55" transform="rotate(0)"><tspan id="SvgjsTspan1259" dy="16" x="744.2367328370193"><tspan id="SvgjsTspan1260" style="text-decoration:;">Request</tspan></tspan></text></g><g id="SvgjsG1261"><path id="SvgjsPath1262" d="M813.96875 614L813.96875 714.0570566629223L813.96875 714.0570566629223L813.96875 814.1141133258445" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1263)"></path><rect id="SvgjsRect1265" width="92" height="16" x="767.96875" y="706.0570566629223" fill="#ffffff"></rect><text id="SvgjsText1266" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="92px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="704.1070566629222" transform="rotate(0)"><tspan id="SvgjsTspan1267" dy="16" x="813.96875"><tspan id="SvgjsTspan1268" style="text-decoration:;">通过Reactor响应</tspan></tspan></text></g><g id="SvgjsG1269" transform="translate(106.52627852392294,753.1141133258445)"><path id="SvgjsPath1270" d="M 0 30.5C 0 -10.166666666666666 86 -10.166666666666666 86 30.5C 86 71.16666666666667 0 71.16666666666667 0 30.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1271"><text id="SvgjsText1272" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1273" dy="16" x="43"><tspan id="SvgjsTspan1274" style="text-decoration:;">Master线程</tspan></tspan></text></g></g><g id="SvgjsG1275" transform="translate(205.63541666666498,819.5)"><path id="SvgjsPath1276" d="M 0 30.5C 0 -10.166666666666666 86 -10.166666666666666 86 30.5C 86 71.16666666666667 0 71.16666666666667 0 30.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1277"><text id="SvgjsText1278" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.55" transform="rotate(0)"><tspan id="SvgjsTspan1279" dy="16" x="43"><tspan id="SvgjsTspan1280" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1281" dy="16" x="43"><tspan id="SvgjsTspan1282" style="text-decoration:;">心跳检测线</tspan></tspan><tspan id="SvgjsTspan1283" dy="16" x="43"><tspan id="SvgjsTspan1284" style="text-decoration:;">程</tspan></tspan></text></g></g><g id="SvgjsG1285" transform="translate(310.0794183086908,819.5)"><path id="SvgjsPath1286" d="M 0 30.5C 0 -10.166666666666666 94.00088560483653 -10.166666666666666 94.00088560483653 30.5C 94.00088560483653 71.16666666666667 0 71.16666666666667 0 30.5Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1287"><text id="SvgjsText1288" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="75px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.55" transform="rotate(0)"><tspan id="SvgjsTspan1289" dy="16" x="47.5"><tspan id="SvgjsTspan1290" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1291" dy="16" x="47.5"><tspan id="SvgjsTspan1292" style="text-decoration:;">UDP收包线</tspan></tspan><tspan id="SvgjsTspan1293" dy="16" x="47.5"><tspan id="SvgjsTspan1294" style="text-decoration:;">程</tspan></tspan></text></g></g><g id="SvgjsG1295"><path id="SvgjsPath1296" d="M357.07986111110904 771.5L356.07986111110904 805.5555555555555" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1297)"></path></g><g id="SvgjsG1299"><path id="SvgjsPath1300" d="M307.34127908934244 765.7069963276041L286.1909722222201 802.2222222222222" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1301)"></path></g><g id="SvgjsG1303"><path id="SvgjsPath1304" d="M272.5473381211681 749.4917154079255L216.68699156978863 773.3333333333333" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1305)"></path></g><g id="SvgjsG1307"><path id="SvgjsPath1308" d="M411.4589510609951 762.2600824152344L439.5243055555535 798.8888888888889" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1309)"></path></g><g id="SvgjsG1311"><path id="SvgjsPath1312" d="M770.5641080305802 416.1901671541624L937.3020833333312 325.55555555555554" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1313)"></path></g><g id="SvgjsG1315"><path id="SvgjsPath1316" d="M985.8254756581193 551.5962666587138L782.96875 460" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1317)"></path></g><g id="SvgjsG1319"><path id="SvgjsPath1320" d="M659.6894793090531 322.542543867133L571.96875 393.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1321)"></path></g><g id="SvgjsG1323"><path id="SvgjsPath1324" d="M759.3975995612539 322.9358222275241L934.079861111109 397.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1325)"></path></g></svg>